<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>The RFC822 validation monster | Sean Powell</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I recently saw the RFC822 valid email address regex again, raised on a Hacker News post. It’s enormous - too long to make any sense of. Here are the first 3 lines (of 82):
123(?:(?:\r\n)?[ \t])*(?:(?:">
<meta property="og:type" content="article">
<meta property="og:title" content="The RFC822 validation monster">
<meta property="og:url" content="https://www.longdivision.co.uk/2012/11/08/The-RFC822-Validation-Monster/index.html">
<meta property="og:site_name" content="Sean Powell">
<meta property="og:description" content="I recently saw the RFC822 valid email address regex again, raised on a Hacker News post. It’s enormous - too long to make any sense of. Here are the first 3 lines (of 82):
123(?:(?:\r\n)?[ \t])*(?:(?:">
<meta property="og:updated_time" content="2016-10-23T17:08:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The RFC822 validation monster">
<meta name="twitter:description" content="I recently saw the RFC822 valid email address regex again, raised on a Hacker News post. It’s enormous - too long to make any sense of. Here are the first 3 lines (of 82):
123(?:(?:\r\n)?[ \t])*(?:(?:">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/img/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="shortcut icon" href="/img/favicon/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Megrim|Unica+One|Roboto|Source+Code+Pro" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css"/>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  
<div class="post-page">
  <div class="post-page__feature-image" style="background-image:url('feature.jpg');">
    <div class="post-page__back">
      <a href="/">« Sean Powell</a>
    </div>
  </div>
  <div class="post-page__content">
    <div class="post-content">
      <div class="post-heading">
        <div>
          <h1 class="post-heading__title">
            The RFC822 validation monster
          </h1>
        </div>
        <div>
          <span class="post-heading__date">
            November 4th, 2012
          </span>
        </div>
      </div>
      <div class="post-body">
        <p>I recently saw the <a href="http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html" target="_blank" rel="external">RFC822 valid email address regex</a> again, raised on a <a href="https://news.ycombinator.com/item?id=4793353" target="_blank" rel="external">Hacker News post</a>. It’s enormous - too long to make any sense of. Here are the first 3 lines (of 82):</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;<span class="variable">@,</span>;:\\<span class="string">".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]</span><br><span class="line">)+|\Z|(?=[\["</span>()&lt;&gt;<span class="variable">@,</span>;:\\<span class="string">".\[\]]))|"</span>(?:[^\<span class="string">"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"</span>(?:(?:</span><br><span class="line">\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;<span class="variable">@,</span>;:\\<span class="string">".\[\] \000-\031]+(?:(?:(</span></span><br></pre></td></tr></table></figure>
<p>Validating email addresses has always been a pain and there is no perfect solution. Even if you were to pass the above validation, there’s no guarantee the provided address actually exists.</p>
<p>Fortunately there was some good advice for the sanest way to deal with addresses. To summarise:</p>
<ul>
<li>The only way to know if an email is valid is to send one.</li>
<li>There is a <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#valid-e-mail-address" target="_blank" rel="external">recommended regex</a> in the HTML5 spec.</li>
<li>A really simple approach is check for a character either side of an @ before sending an email.<br>To get an idea of the kinds of addresses which lead to such a monstrous regex, check out <a href="https://web.archive.org/web/20120830115453/http://isemail.info/_system/is_email/test/?all" target="_blank" rel="external">this list</a>.</li>
</ul>
<p>Credit to <a href="https://news.ycombinator.com/item?id=4793498" target="_blank" rel="external">Jabbles</a>, <a href="https://news.ycombinator.com/item?id=4793627" target="_blank" rel="external">3ds 37</a> and <a href="https://news.ycombinator.com/item?id=4793504" target="_blank" rel="external">meaty</a> for raising the above points.</p>
<p><small><em>Photo credit to <a href="https://unsplash.com/@markusspiske" target="_blank" rel="external">Markus Spiske</a></em></small></p>

      </div>
      <div class="post-footer">
        <hr class="post-footer__bar" />
        <div class="post-footer__content">
          <div>Sean Powell</div>
          <div>
            <ul class="post-network-links-list">
              
                <li class="post-network-links-list__item">
                  <a href="https://github.com/longdivision">
                    <i class="fa fa-1x fa-github"></i>
                  </a>
                </li>
              
                <li class="post-network-links-list__item">
                  <a href="https://twitter.com/seanpwl">
                    <i class="fa fa-1x fa-twitter"></i>
                  </a>
                </li>
              
                <li class="post-network-links-list__item">
                  <a href="http://stackoverflow.com/users/642196/sean-powell">
                    <i class="fa fa-1x fa-stack-overflow"></i>
                  </a>
                </li>
              
                <li class="post-network-links-list__item">
                  <a href="https://uk.linkedin.com/in/seanpowe">
                    <i class="fa fa-1x fa-linkedin"></i>
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-33876515-1', 'auto');
  ga('send', 'pageview');
</script>


</body>
</html>
